knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(tidyverse, baseballr, janitor)
ncaa_school_id_lu("LSU")
team_id <- 365
df <- ncaa_team_player_stats(team_id = 365, year = 2023, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era) %>%
select(player, era)
df
df <- ncaa_team_player_stats(team_id = 365, year = 2023, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era)
View(df)
df <- ncaa_team_player_stats(team_id = 365, year = 2023, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era) %>%
select(player, ip, era, bb, so)
df <- ncaa_team_player_stats(team_id = 365, year = 2023, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era) %>%
select(player, ip, era, bb, so)
df
df <- ncaa_team_player_stats(team_id = 365, year = 2018, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era) %>%
select(player, ip, era, bb, so)
df
df <- ncaa_team_player_stats(team_id = 365, year = 2019, type = "pitching") %>%
clean_names() %>%
filter(pos == "P") %>%
arrange(era) %>%
select(player, ip, era, bb, so)
df
predf <- ncaa_team_player_stats(team_id = 365, year = 2019, type = "pitching") %>%
clean_names()
View(predf)
pacman::p_load(tidyverse, baseballr, janitor, rvest)
pacman::p_load(tidyverse, baseballr, janitor, data.table)
pacman::p_load(tidyverse, baseballr, janitor, read_xl)
pacman::p_load(tidyverse, baseballr, janitor, readxl)
xl_df <- read_excel("sportsref_download.xls")
getwd()
setwd("~/Documents/GitHub/Baseball Data Analysis")
getwd()
xl_df <- read_excel("sportsref_download.xls")
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(tidyverse, baseballr, janitor, data.table)
data_files <- list.files(pattern = "sportsref_download")
mapped_files <- map2(data_files, names(data_files), ~ {
process_sportsref(.x) %>%
mutate(season = .y)
})
# function to process data files
process_sportsref <- function(filename) {
fread(filename) %>%
clean_names() %>%
mutate(season = str_extract(filename, "\\d{4}"))
}
all_season_data <- map_dfr(data_files, process_sportsref)
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(tidyverse, baseballr, janitor, readr)
# List data files to compile
data_files <- list.files(pattern = "sportsref_download")
# function to process data files
process_sportsref <- function(filename) {
read_csv(filename) %>%
clean_names() %>%
type_convert() %>%
mutate(season = str_extract(filename, "\\d{4}"))
}
all_season_data <- map_dfr(data_files, process_sportsref)
# function to process data files
process_sportsref <- function(filename) {
read_csv(filename) %>%
clean_names() %>%
mutate(season = str_extract(filename, "\\d{4}"))
}
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(tidyverse, baseballr, janitor, data.table)
type_summary <- map_dfr(data_files, function(file) {
df <- read_csv(file) %>% clean_names()
tibble(
file = file,
column = names(df),
type = map_chr(df, ~ class(.x)[1])
)
})
View(type_summary)
type_summary <- map_dfr(data_files, function(file) {
df <- read_csv(file) %>% clean_names()
tibble(
file = file,
column = names(df),
type = map_chr(df, ~ class(.x)[1])
)
})
type_summary_wide <- type_summary %>%
pivot_wider(
names_from = file,
values_from = type
)
View(type_summary_wide)
